(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[479],{28479:function(t,e,r){"use strict";r.r(e),r.d(e,{SuperStockistReportRoutingModule:function(){return R}});var a=r(63423),o=r(38583),s=r(29925),i=r(37716),n=r(73535),c=r(44501),u=r(11140),d=r(65939),l=r(98295),p=r(49983),h=r(43220),Z=r(3679),g=r(11494);function m(t,e){if(1&t&&(i.TgZ(0,"tr"),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.TgZ(9,"td"),i._uU(10),i.qZA(),i.TgZ(11,"td"),i._uU(12),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.xp6(2),i.Oqu(t.terminal_pin),i.xp6(2),i.Oqu(t.stokiest_name),i.xp6(2),i.Oqu(t.total),i.xp6(2),i.Oqu(t.commission),i.xp6(2),i.Oqu(t.prize_value),i.xp6(2),i.Oqu(t.total-t.commission-t.prize_value)}}function q(t,e){1&t&&(i.TgZ(0,"div",26),i.TgZ(1,"h1"),i._uU(2,"No Data"),i.qZA(),i.qZA())}function A(t,e){if(1&t&&(i.TgZ(0,"tr"),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.TgZ(9,"td"),i._uU(10),i.qZA(),i.TgZ(11,"td"),i._uU(12),i.qZA(),i.TgZ(13,"td"),i._uU(14),i.qZA(),i.TgZ(15,"td"),i._uU(16),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.xp6(2),i.Oqu(t.barcode_number),i.xp6(2),i.Oqu(t.draw_time),i.xp6(2),i.Oqu(t.terminal_pin),i.xp6(2),i.Oqu(t.game_name),i.xp6(2),i.Oqu(t.ticket_taken_time),i.xp6(2),i.Oqu(t.total_quantity),i.xp6(2),i.Oqu(t.amount),i.xp6(2),i.Oqu(t.prize_value)}}function b(t,e){1&t&&(i.TgZ(0,"div",26),i.TgZ(1,"h1"),i._uU(2,"No Data"),i.qZA(),i.qZA())}let _=(()=>{class t{constructor(t,e,r){this.authService=t,this.masterSuperStockistService=e,this.adminReportService=r,this.thisYear=(new Date).getFullYear(),this.thisMonth=(new Date).getMonth(),this.thisDay=(new Date).getDate(),this.startDate=new Date(this.thisYear,this.thisMonth,this.thisDay),this.StartDateFilter=this.startDate,this.EndDateFilter=this.startDate,this.pipe=new o.uU("en-US"),this.barcodeReportRecords=[],this.customerSaleReportRecords=[],this.totalAmount=0}ngOnInit(){this.user=this.authService.userBehaviorSubject.value,this.masterSuperStockistService.barcodeReportBySuperStockistId("2022-02-17","2022-02-17",this.user.userId).subscribe(t=>{this.barcodeReportRecords=t.data}),this.masterSuperStockistService.customerSaleReportByDate("2022-02-17","2022-02-17",this.user.userId).subscribe(t=>{this.customerSaleReportRecords=t.data;let e=0;this.customerSaleReportRecords.forEach(function(t){e+=Number(t.total)}),this.totalAmount=e})}openPopup(t,e){this.adminReportService.getBarcodeDetails(t).subscribe(t=>{this.barcodeDetails=t.data})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(n.e),i.Y36(c.Z),i.Y36(u.Q))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-super-stockist-report"]],viewQuery:function(t,e){if(1&t&&i.Gf(s.oB,5),2&t){let t;i.iGM(t=i.CRH())&&(e.modal=t.first)}},decls:72,vars:13,consts:[[1,"mt-2","mr-3","ml-3"],["label","Customer sales report"],[1,"pt-1","d-flex"],[1,"col-3"],["appearance","fill"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],[3,"ngModel","ngModelChange"],["picker",""],["picker1",""],["matSort","",1,"table","table-bordered","table-sm",2,"border","none !important","height","50px","overflow","scroll"],["mat-sort-header","terminal_pin"],["mat-sort-header","total"],["mat-sort-header","commission"],["mat-sort-header","prize_value"],["mat-sort-header","ntp"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["label","Barcode report"],[1,"text-center",2,"align-content","center","align-items","center","text-align","center"],["matSort","",1,"ml-4","col-11","table","table-bordered","table-sm",2,"border","none !important","height","50px","overflow","scroll"],["mat-sort-header","barcode_number"],["mat-sort-header","draw_time"],["mat-sort-header","ticket_taken_time"],["mat-sort-header","total_quantity"],["mat-sort-header","amount"],[1,"text-center"]],template:function(t,e){if(1&t&&(i.TgZ(0,"mat-tab-group",0),i.TgZ(1,"mat-tab",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"mat-form-field",4),i.TgZ(5,"mat-label"),i._uU(6,"Start date"),i.qZA(),i.TgZ(7,"input",5),i.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),i.qZA(),i._UZ(8,"mat-datepicker-toggle",6),i.TgZ(9,"mat-datepicker",7,8),i.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(11,"div",3),i.TgZ(12,"mat-form-field",4),i.TgZ(13,"mat-label"),i._uU(14,"End date"),i.qZA(),i.TgZ(15,"input",5),i.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),i.qZA(),i._UZ(16,"mat-datepicker-toggle",6),i.TgZ(17,"mat-datepicker",7,9),i.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(19,"table",10),i.TgZ(20,"thead"),i.TgZ(21,"tr"),i.TgZ(22,"th",11),i._uU(23,"Terminal Id"),i.qZA(),i.TgZ(24,"th",11),i._uU(25,"Stokiest Name"),i.qZA(),i.TgZ(26,"th",12),i._uU(27,"Total"),i.qZA(),i.TgZ(28,"th",13),i._uU(29,"Commission"),i.qZA(),i.TgZ(30,"th",14),i._uU(31,"Prize"),i.qZA(),i.TgZ(32,"th",15),i._uU(33,"NTP"),i.qZA(),i._UZ(34,"th"),i.qZA(),i.qZA(),i.TgZ(35,"tbody"),i.YNc(36,m,13,6,"tr",16),i.TgZ(37,"tr"),i._UZ(38,"td"),i.TgZ(39,"td"),i._uU(40,"Grand Total"),i.qZA(),i.TgZ(41,"td"),i._uU(42),i.qZA(),i._UZ(43,"td"),i._UZ(44,"td"),i._UZ(45,"td"),i.qZA(),i.qZA(),i.qZA(),i.YNc(46,q,3,0,"div",17),i.qZA(),i.TgZ(47,"mat-tab",18),i.TgZ(48,"div",19),i.TgZ(49,"table",20),i.TgZ(50,"thead"),i.TgZ(51,"tr"),i.TgZ(52,"th",21),i._uU(53,"Barcode"),i.qZA(),i.TgZ(54,"th",22),i._uU(55,"Draw time"),i.qZA(),i.TgZ(56,"th",11),i._uU(57,"Terminal"),i.qZA(),i.TgZ(58,"th",11),i._uU(59,"Game"),i.qZA(),i.TgZ(60,"th",23),i._uU(61,"Ticket take time"),i.qZA(),i.TgZ(62,"th",24),i._uU(63,"Quantity"),i.qZA(),i.TgZ(64,"th",25),i._uU(65,"Amount"),i.qZA(),i.TgZ(66,"th",14),i._uU(67,"Prize"),i.qZA(),i._UZ(68,"th"),i.qZA(),i.qZA(),i.TgZ(69,"tbody"),i.YNc(70,A,17,8,"tr",16),i.qZA(),i.qZA(),i.YNc(71,b,3,0,"div",17),i.qZA(),i.qZA(),i.qZA()),2&t){const t=i.MAs(10),r=i.MAs(18);i.xp6(7),i.Q6J("matDatepicker",t)("ngModel",e.StartDateFilter),i.xp6(1),i.Q6J("for",t),i.xp6(1),i.Q6J("ngModel",e.StartDateFilter),i.xp6(6),i.Q6J("matDatepicker",r)("ngModel",e.EndDateFilter),i.xp6(1),i.Q6J("for",r),i.xp6(1),i.Q6J("ngModel",e.EndDateFilter),i.xp6(19),i.Q6J("ngForOf",e.customerSaleReportRecords),i.xp6(6),i.Oqu(e.totalAmount),i.xp6(4),i.Q6J("ngIf",0==e.customerSaleReportRecords.length),i.xp6(24),i.Q6J("ngForOf",e.barcodeReportRecords),i.xp6(1),i.Q6J("ngIf",0==e.barcodeReportRecords.length)}},directives:[d.SP,d.uX,l.KE,l.hX,p.Nt,h.hl,Z.Fj,Z.JJ,Z.On,h.nW,l.R9,h.Mq,g.YE,g.nU,o.sg,o.O5],styles:[""]}),t})();const T=[{path:"",canActivate:[r(78085).K],component:_}];let R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[a.Bz.forChild(T)],a.Bz]}),t})()},11140:function(t,e,r){"use strict";r.d(e,{Q:function(){return l}});var a=r(92340),o=r(5304),s=r(68307),i=r(79765),n=r(40205),c=r(37716),u=r(91841),d=r(84889);let l=(()=>{class t{constructor(t,e){this.http=t,this.errorService=e,this.BASE_API_URL=a.N.BASE_API_URL,this.barcodeReportRecords=[],this.barcodeReportSubject=new i.xQ,this.barcodeDetailsSubject=new i.xQ,this.customerSaleReportRecords=[],this.customerSaleReportSubject=new i.xQ}getBarcodeReportRecords(){return[...this.barcodeReportRecords]}getBarcodeReportListener(){return this.barcodeReportSubject.asObservable()}getCustomerSaleReportRecords(){return[...this.customerSaleReportRecords]}getCustomerSaleReportListener(){return this.customerSaleReportSubject.asObservable()}getBarcodeDetails(t){return this.http.get(this.BASE_API_URL+"/cPanel/barcodeReport/particulars/"+t).pipe((0,o.K)(this.handleError),(0,s.b)(t=>{this.barcodeDetails=t.data,this.barcodeDetailsSubject.next(Object.assign({},this.barcodeDetails))}))}getBarcodeDetailsListener(){return this.barcodeDetailsSubject.asObservable()}customerSaleReportByDate(t,e){return this.http.post(this.BASE_API_URL+"/cPanel/customerSaleReports",{startDate:t,endDate:e}).pipe((0,o.K)(this.handleError),(0,s.b)(t=>{t.data&&(this.customerSaleReportRecords=t.data,this.customerSaleReportSubject.next([...this.customerSaleReportRecords]))}))}barcodeReportByDate(t,e){return this.http.post(this.BASE_API_URL+"/cPanel/barcodeReportByDate",{startDate:t,endDate:e}).pipe((0,o.K)(this.handleError),(0,s.b)(t=>{t.data&&(this.barcodeReportRecords=t.data,this.barcodeReportSubject.next([...this.barcodeReportRecords]))}))}serverError(t){return t instanceof Response?(0,n._)("backend server error"):(0,n._)(0===t.status?{status:t.status,message:"Backend Server is not Working",statusText:t.statusText}:401===t.status?{status:t.status,message:"Your are not authorised",statusText:t.statusText}:t)}handleError(t){return t.error.message.includes("1062")?(0,n._)("Record already exists"):(0,n._)(t.error.message)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(u.eN),c.LFG(d.T))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);