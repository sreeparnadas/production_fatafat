(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[956],{4956:function(t,e,i){"use strict";i.r(e),i.d(e,{ManualResultModule:function(){return D}});var n=i(1116),r=i(3464),o=i(8423),a=i(1041),l=i(9713),s=i(2501),u=i.n(s),c=i(529),m=i(5366),d=i(2693),g=i(5959),p=i(7727),h=i(4019),b=i(8035);let f=(()=>{class t{constructor(t,e){this.http=t,this.errorService=e,this.drawTimes=[],this.drawTimeSubject=new g.xQ,this.BASE_API_URL=c.N.BASE_API_URL,this.http.get(this.BASE_API_URL+"/drawTimes").subscribe(t=>{this.drawTimes=t.data,this.drawTimeSubject.next([...this.drawTimes])})}getAllDrawTimes(){return[...this.drawTimes]}getAllDrawTimesListener(){return this.drawTimeSubject.asObservable()}saveManualResult(t){return this.http.post(this.BASE_API_URL+"/manualResult",t).pipe((0,p.K)(this.errorService.serverError),(0,h.b)(t=>{console.log(t)}))}}return t.\u0275fac=function(e){return new(e||t)(m.LFG(d.eN),m.LFG(b.T))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=i(4975),v=i(2797),x=i(3070),A=i(3841),w=i(4369),T=i(9550),C=i(9024),q=i(7064),_=i(7217),I=i(9572);function M(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"div"),m.TgZ(1,"mat-form-field",19),m.TgZ(2,"mat-label"),m._uU(3,"Game date (dd/mm/yyyy)"),m.qZA(),m.TgZ(4,"input",20),m.NdJ("dateChange",function(e){return m.CHM(t),m.oxw().gameDatepickerChange(e)}),m.qZA(),m.TgZ(5,"mat-datepicker-toggle",21),m.TgZ(6,"mat-icon",22),m._uU(7,"keyboard_arrow_down"),m.qZA(),m.qZA(),m._UZ(8,"mat-datepicker",null,23),m.qZA(),m.qZA()}if(2&t){const t=m.MAs(9);m.xp6(4),m.Q6J("matDatepicker",t),m.xp6(1),m.Q6J("for",t)}}function S(t,e){if(1&t&&(m.TgZ(0,"mat-option",24),m._uU(1),m.qZA()),2&t){const t=e.$implicit;m.Q6J("value",t.drawId),m.xp6(1),m.hij(" ",t.endTime," ")}}const y=function(t){return{"background-color":t}};function N(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"div",26),m.TgZ(1,"button",29),m.NdJ("click",function(){const e=m.CHM(t).$implicit,i=m.oxw().$implicit;return m.oxw().setManualResultInForm(i.singleNumber,e)}),m._uU(2),m.qZA(),m.qZA()}if(2&t){const t=e.$implicit,i=m.oxw().$implicit,n=m.oxw();m.xp6(1),m.s9C("matBadge",i.singleNumber),m.Q6J("matBadgeHidden",n.currentCombinationMatrixSelectedId!=t.numberCombinationId)("ngStyle",m.VKq(4,y,n.currentCombinationMatrixSelectedId===t.numberCombinationId?"rgb(30,64,30)":"#858b8b")),m.xp6(1),m.Oqu(t.visibleTripleNumber)}}function R(t,e){if(1&t&&(m.TgZ(0,"div",25),m.TgZ(1,"div",26),m.TgZ(2,"button",27),m._uU(3),m.qZA(),m.qZA(),m.YNc(4,N,3,6,"div",28),m.qZA()),2&t){const t=e.$implicit;m.MGl("id","triple-flex-column-",e.index,""),m.xp6(3),m.hij(" ",t.singleNumber," "),m.xp6(1),m.Q6J("ngForOf",t.numberCombinations)}}function k(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"div",30),m.TgZ(1,"h3"),m._uU(2,"Change the div size"),m.qZA(),m.TgZ(3,"button",31),m.NdJ("click",function(){return m.CHM(t),m.oxw().changeState()}),m._uU(4,"Change Size"),m.qZA(),m._UZ(5,"br"),m._UZ(6,"div"),m._UZ(7,"br"),m.qZA()}if(2&t){const t=m.oxw();m.xp6(6),m.Q6J("@changeDivSize",t.currentState)}}function F(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"div",32),m.TgZ(1,"div",33),m.TgZ(2,"mat-slide-toggle",34),m.NdJ("change",function(){m.CHM(t);const e=m.oxw();return e.showDevArea=!e.showDevArea}),m._uU(3),m.qZA(),m.qZA(),m.qZA()}if(2&t){const t=m.oxw();m.xp6(3),m.Oqu(t.showDevArea?"Hide Developer Area":"Show Developer Area")}}function U(t,e){if(1&t&&(m.TgZ(0,"div",32),m.TgZ(1,"div",33),m.TgZ(2,"pre"),m._uU(3),m.ALo(4,"json"),m.qZA(),m.qZA(),m.TgZ(5,"div",35),m.TgZ(6,"pre"),m._uU(7),m.ALo(8,"json"),m.qZA(),m.qZA(),m.TgZ(9,"div",33),m._UZ(10,"pre"),m.qZA(),m.qZA()),2&t){const t=m.oxw();m.xp6(3),m.hij("        numberCombinationMatrix = ",m.lcZ(4,2,t.numberCombinationMatrix),"\n      "),m.xp6(4),m.hij("       manualResultForm = ",m.lcZ(8,4,t.manualResultForm.value),"\n      ")}}const B=[{path:"",canActivate:[o.m],component:(()=>{class t{constructor(t,e,i){this.http=t,this.manualResultService=e,this.playGameService=i,this.BASE_API_URL=c.N.BASE_API_URL,this.drawTimes=[],this.numberCombinationMatrix=[],this.currentState="initial",this.isProduction=c.N.production,this.showDevArea=!1;const r=new Date,o=(0,n.p6)(r,"yyyy-MM-dd","en");this.manualResultForm=new a.cw({id:new a.NI(null),drawMasterId:new a.NI(null,[a.kI.required]),numberCombinationId:new a.NI(null,[a.kI.required]),single:new a.NI(null),triple:new a.NI(null),transaction_date:new a.NI(o)})}ngOnInit(){const t=new Date,e=(0,n.p6)(t,"yyyy-MM-dd","en");this.http.get(this.BASE_API_URL+"/drawTimes/dates/"+e).subscribe(t=>{this.drawTimes=t.data}),this.numberCombinationMatrix=this.playGameService.getNumberCombinationMatrix(),this.playGameService.getNumberCombinationMatrixListener().subscribe(t=>{this.numberCombinationMatrix=t,this.copyNumberMatrix=JSON.parse(JSON.stringify(this.numberCombinationMatrix))})}iscurrentCombinationMatrixSelected(t){return t===this.currentCombinationMatrixSelectedId}setManualResultInForm(t,e){this.manualResultForm.patchValue({numberCombinationId:e.numberCombinationId,single:t,triple:e.visibleTripleNumber}),this.currentCombinationMatrixSelectedId=e.numberCombinationId}getTrippleButtonStyle(){return{"background-color":"red !important"}}gotoTop(){window.scroll({top:0,left:0,behavior:"smooth"})}scroll(t){t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}changeState(){this.currentState="initial"===this.currentState?"final":"initial"}saveManualResult(){this.validatorError=null,u().fire({title:"Confirmation",text:"Do you sure to save this result?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save It!"}).then(t=>{t.isConfirmed&&this.manualResultService.saveManualResult(this.manualResultForm.value).subscribe(t=>{1===t.success?u().fire({position:"top-end",icon:"success",title:"Result saved",showConfirmButton:!1,timer:1e3}):(this.validatorError=t.error,u().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3}))},t=>{console.log("data saving error",t)})})}gameDatepickerChange(t){const e=(0,n.p6)(this.manualResultForm.value.transaction_date,"yyyy-MM-dd","en");this.http.get(this.BASE_API_URL+"/drawTimes/dates/"+e).subscribe(t=>{this.drawTimes=t.data})}}return t.\u0275fac=function(e){return new(e||t)(m.Y36(d.eN),m.Y36(f),m.Y36(Z.M))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-manual-result"]],decls:30,vars:9,consts:[[3,"formGroup"],[1,"d-flex","flex-row","bd-highlight","mb-3"],[1,"p-2","d-flex","flex-column","col-3"],[4,"ngIf"],["targetDiv",""],["fxFlex","70"],["formControlName","drawMasterId","placeholder","Category"],[3,"value",4,"ngFor","ngForOf"],[1,"card",2,"width","18rem"],[1,"card-header"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["type","button",1,"btn","btn-primary","mt-2",3,"click"],[1,"p-2","d-flex","flex-row","col-8"],["class","d-flex flex-column",3,"id",4,"ngFor","ngForOf"],["class","p-2 bd-highlight",4,"ngIf"],["mat-fab","",3,"click"],[1,"bi","bi-arrow-up-circle"],["class","d-flex",4,"ngIf"],["fxFlex","70",1,"example-full-width"],["matInput","","formControlName","transaction_date","placeholder","dd/mm/yyyy",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["matDatepickerToggleIcon",""],["gameDatePicker",""],[3,"value"],[1,"d-flex","flex-column",3,"id"],[1,"p-2"],["mat-fab",""],["class","p-2",4,"ngFor","ngForOf"],["mat-fab","","aria-label","",1,"triple-number-button",3,"matBadge","matBadgeHidden","ngStyle","click"],[1,"p-2","bd-highlight"],[3,"click"],[1,"d-flex"],[1,"col-3"],[3,"change"],[1,"col-6"]],template:function(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"mat-card"),m.TgZ(1,"form",0),m.TgZ(2,"div",1),m.TgZ(3,"div",2),m.YNc(4,M,10,2,"div",3),m.TgZ(5,"div",null,4),m.TgZ(7,"mat-form-field",5),m.TgZ(8,"mat-label"),m._uU(9,"Draw time"),m.qZA(),m.TgZ(10,"mat-select",6),m.YNc(11,S,2,2,"mat-option",7),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"div"),m.TgZ(13,"div",8),m.TgZ(14,"div",9),m._uU(15," Upcoming result "),m.qZA(),m.TgZ(16,"ul",10),m.TgZ(17,"li",11),m._uU(18),m.qZA(),m.TgZ(19,"li",11),m._uU(20),m.qZA(),m.qZA(),m.qZA(),m.TgZ(21,"button",12),m.NdJ("click",function(){return e.saveManualResult()}),m._uU(22,"Save"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(23,"div",13),m.YNc(24,R,5,3,"div",14),m.qZA(),m.YNc(25,k,8,1,"div",15),m.qZA(),m.qZA(),m.TgZ(26,"button",16),m.NdJ("click",function(){m.CHM(t);const i=m.MAs(6);return e.scroll(i)}),m._UZ(27,"i",17),m.qZA(),m.qZA(),m.YNc(28,F,4,1,"div",18),m.YNc(29,U,11,6,"div",18)}2&t&&(m.xp6(1),m.Q6J("formGroup",e.manualResultForm),m.xp6(3),m.Q6J("ngIf",!1),m.xp6(7),m.Q6J("ngForOf",e.drawTimes),m.xp6(7),m.Oqu(e.manualResultForm.value.triple),m.xp6(2),m.Oqu(e.manualResultForm.value.single),m.xp6(4),m.Q6J("ngForOf",e.numberCombinationMatrix),m.xp6(1),m.Q6J("ngIf",!e.isProduction),m.xp6(3),m.Q6J("ngIf",!e.isProduction),m.xp6(1),m.Q6J("ngIf",!e.isProduction&&e.showDevArea))},directives:[v.a8,a._Y,a.JL,a.sg,n.O5,x.KE,x.hX,A.gD,a.JJ,a.u,n.sg,w.lW,T.Nt,a.Fj,C.hl,C.nW,x.R9,C.Q0,C.Mq,q.ey,_.k,n.PC,I.Rr],pipes:[n.Ts],styles:[".triple-number-button[_ngcontent-%COMP%]{border-radius:20px!important}.triple-number-button[_ngcontent-%COMP%]:hover{background-color:#676c67!important}.scroll-arrow[_ngcontent-%COMP%]{border-radius:50%}"],data:{animation:[(0,l.X$)("changeDivSize",[(0,l.SB)("initial",(0,l.oB)({backgroundColor:"green",width:"100px",height:"100px"})),(0,l.SB)("final",(0,l.oB)({backgroundColor:"red",width:"200px",height:"200px"})),(0,l.eR)("initial=>final",(0,l.jt)("1500ms")),(0,l.eR)("final=>initial",(0,l.jt)("1000ms"))])]}}),t})()}];let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[r.Bz.forChild(B)],r.Bz]}),t})(),D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[n.ez,J,I.rP,v.QW,a.u5,x.lN,a.UX,T.c,C.FA,A.LD,_.g,w.ot,I.rP]]}),t})()}}]);