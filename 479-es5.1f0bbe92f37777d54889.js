!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return e(t,r)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[479],{28479:function(t,e,a){"use strict";a.r(e),a.d(e,{SuperStockistReportRoutingModule:function(){return R}});var n=a(63423),i=a(38583),s=a(29925),u=a(37716),c=a(73535),d=a(44501),l=a(11140),p=a(65939),h=a(98295),Z=a(49983),g=a(43220),m=a(3679),f=a(11494);function b(t,e){if(1&t&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.qZA()),2&t){var r=e.$implicit;u.xp6(2),u.Oqu(r.terminal_pin),u.xp6(2),u.Oqu(r.stokiest_name),u.xp6(2),u.Oqu(r.total),u.xp6(2),u.Oqu(r.commission),u.xp6(2),u.Oqu(r.prize_value),u.xp6(2),u.Oqu(r.total-r.commission-r.prize_value)}}function A(t,e){1&t&&(u.TgZ(0,"div",26),u.TgZ(1,"h1"),u._uU(2,"No Data"),u.qZA(),u.qZA())}function q(t,e){if(1&t&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td"),u._uU(16),u.qZA(),u.qZA()),2&t){var r=e.$implicit;u.xp6(2),u.Oqu(r.barcode_number),u.xp6(2),u.Oqu(r.draw_time),u.xp6(2),u.Oqu(r.terminal_pin),u.xp6(2),u.Oqu(r.game_name),u.xp6(2),u.Oqu(r.ticket_taken_time),u.xp6(2),u.Oqu(r.total_quantity),u.xp6(2),u.Oqu(r.amount),u.xp6(2),u.Oqu(r.prize_value)}}function _(t,e){1&t&&(u.TgZ(0,"div",26),u.TgZ(1,"h1"),u._uU(2,"No Data"),u.qZA(),u.qZA())}var T,v=function(){var t=function(){function t(e,a,o){r(this,t),this.authService=e,this.masterSuperStockistService=a,this.adminReportService=o,this.thisYear=(new Date).getFullYear(),this.thisMonth=(new Date).getMonth(),this.thisDay=(new Date).getDate(),this.startDate=new Date(this.thisYear,this.thisMonth,this.thisDay),this.StartDateFilter=this.startDate,this.EndDateFilter=this.startDate,this.pipe=new i.uU("en-US"),this.barcodeReportRecords=[],this.customerSaleReportRecords=[],this.totalAmount=0}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.user=this.authService.userBehaviorSubject.value,this.masterSuperStockistService.barcodeReportBySuperStockistId("2022-02-17","2022-02-17",this.user.userId).subscribe(function(e){t.barcodeReportRecords=e.data}),this.masterSuperStockistService.customerSaleReportByDate("2022-02-17","2022-02-17",this.user.userId).subscribe(function(e){t.customerSaleReportRecords=e.data;var r=0;t.customerSaleReportRecords.forEach(function(t){r+=Number(t.total)}),t.totalAmount=r})}},{key:"openPopup",value:function(t,e){var r=this;this.adminReportService.getBarcodeDetails(t).subscribe(function(t){r.barcodeDetails=t.data})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(c.e),u.Y36(d.Z),u.Y36(l.Q))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-super-stockist-report"]],viewQuery:function(t,e){var r;(1&t&&u.Gf(s.oB,5),2&t)&&(u.iGM(r=u.CRH())&&(e.modal=r.first))},decls:72,vars:13,consts:[[1,"mt-2","mr-3","ml-3"],["label","Customer sales report"],[1,"pt-1","d-flex"],[1,"col-3"],["appearance","fill"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],[3,"ngModel","ngModelChange"],["picker",""],["picker1",""],["matSort","",1,"table","table-bordered","table-sm",2,"border","none !important","height","50px","overflow","scroll"],["mat-sort-header","terminal_pin"],["mat-sort-header","total"],["mat-sort-header","commission"],["mat-sort-header","prize_value"],["mat-sort-header","ntp"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["label","Barcode report"],[1,"text-center",2,"align-content","center","align-items","center","text-align","center"],["matSort","",1,"ml-4","col-11","table","table-bordered","table-sm",2,"border","none !important","height","50px","overflow","scroll"],["mat-sort-header","barcode_number"],["mat-sort-header","draw_time"],["mat-sort-header","ticket_taken_time"],["mat-sort-header","total_quantity"],["mat-sort-header","amount"],[1,"text-center"]],template:function(t,e){if(1&t&&(u.TgZ(0,"mat-tab-group",0),u.TgZ(1,"mat-tab",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"mat-form-field",4),u.TgZ(5,"mat-label"),u._uU(6,"Start date"),u.qZA(),u.TgZ(7,"input",5),u.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),u.qZA(),u._UZ(8,"mat-datepicker-toggle",6),u.TgZ(9,"mat-datepicker",7,8),u.NdJ("ngModelChange",function(t){return e.StartDateFilter=t}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"div",3),u.TgZ(12,"mat-form-field",4),u.TgZ(13,"mat-label"),u._uU(14,"End date"),u.qZA(),u.TgZ(15,"input",5),u.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),u.qZA(),u._UZ(16,"mat-datepicker-toggle",6),u.TgZ(17,"mat-datepicker",7,9),u.NdJ("ngModelChange",function(t){return e.EndDateFilter=t}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(19,"table",10),u.TgZ(20,"thead"),u.TgZ(21,"tr"),u.TgZ(22,"th",11),u._uU(23,"Terminal Id"),u.qZA(),u.TgZ(24,"th",11),u._uU(25,"Stokiest Name"),u.qZA(),u.TgZ(26,"th",12),u._uU(27,"Total"),u.qZA(),u.TgZ(28,"th",13),u._uU(29,"Commission"),u.qZA(),u.TgZ(30,"th",14),u._uU(31,"Prize"),u.qZA(),u.TgZ(32,"th",15),u._uU(33,"NTP"),u.qZA(),u._UZ(34,"th"),u.qZA(),u.qZA(),u.TgZ(35,"tbody"),u.YNc(36,b,13,6,"tr",16),u.TgZ(37,"tr"),u._UZ(38,"td"),u.TgZ(39,"td"),u._uU(40,"Grand Total"),u.qZA(),u.TgZ(41,"td"),u._uU(42),u.qZA(),u._UZ(43,"td"),u._UZ(44,"td"),u._UZ(45,"td"),u.qZA(),u.qZA(),u.qZA(),u.YNc(46,A,3,0,"div",17),u.qZA(),u.TgZ(47,"mat-tab",18),u.TgZ(48,"div",19),u.TgZ(49,"table",20),u.TgZ(50,"thead"),u.TgZ(51,"tr"),u.TgZ(52,"th",21),u._uU(53,"Barcode"),u.qZA(),u.TgZ(54,"th",22),u._uU(55,"Draw time"),u.qZA(),u.TgZ(56,"th",11),u._uU(57,"Terminal"),u.qZA(),u.TgZ(58,"th",11),u._uU(59,"Game"),u.qZA(),u.TgZ(60,"th",23),u._uU(61,"Ticket take time"),u.qZA(),u.TgZ(62,"th",24),u._uU(63,"Quantity"),u.qZA(),u.TgZ(64,"th",25),u._uU(65,"Amount"),u.qZA(),u.TgZ(66,"th",14),u._uU(67,"Prize"),u.qZA(),u._UZ(68,"th"),u.qZA(),u.qZA(),u.TgZ(69,"tbody"),u.YNc(70,q,17,8,"tr",16),u.qZA(),u.qZA(),u.YNc(71,_,3,0,"div",17),u.qZA(),u.qZA(),u.qZA()),2&t){var r=u.MAs(10),a=u.MAs(18);u.xp6(7),u.Q6J("matDatepicker",r)("ngModel",e.StartDateFilter),u.xp6(1),u.Q6J("for",r),u.xp6(1),u.Q6J("ngModel",e.StartDateFilter),u.xp6(6),u.Q6J("matDatepicker",a)("ngModel",e.EndDateFilter),u.xp6(1),u.Q6J("for",a),u.xp6(1),u.Q6J("ngModel",e.EndDateFilter),u.xp6(19),u.Q6J("ngForOf",e.customerSaleReportRecords),u.xp6(6),u.Oqu(e.totalAmount),u.xp6(4),u.Q6J("ngIf",0==e.customerSaleReportRecords.length),u.xp6(24),u.Q6J("ngForOf",e.barcodeReportRecords),u.xp6(1),u.Q6J("ngIf",0==e.barcodeReportRecords.length)}},directives:[p.SP,p.uX,h.KE,h.hX,Z.Nt,g.hl,m.Fj,m.JJ,m.On,g.nW,h.R9,g.Mq,f.YE,f.nU,i.sg,i.O5],styles:[""]}),t}(),S=[{path:"",canActivate:[a(78085).K],component:v}],R=((T=function t(){r(this,t)}).\u0275fac=function(t){return new(t||T)},T.\u0275mod=u.oAB({type:T}),T.\u0275inj=u.cJS({imports:[[n.Bz.forChild(S)],n.Bz]}),T)},11140:function(e,a,n){"use strict";n.d(a,{Q:function(){return Z}});var i=n(92340),s=n(5304),u=n(68307),c=n(79765),d=n(40205),l=n(37716),p=n(91841),h=n(84889),Z=function(){var e=function(){function e(t,a){r(this,e),this.http=t,this.errorService=a,this.BASE_API_URL=i.N.BASE_API_URL,this.barcodeReportRecords=[],this.barcodeReportSubject=new c.xQ,this.barcodeDetailsSubject=new c.xQ,this.customerSaleReportRecords=[],this.customerSaleReportSubject=new c.xQ}return o(e,[{key:"getBarcodeReportRecords",value:function(){return t(this.barcodeReportRecords)}},{key:"getBarcodeReportListener",value:function(){return this.barcodeReportSubject.asObservable()}},{key:"getCustomerSaleReportRecords",value:function(){return t(this.customerSaleReportRecords)}},{key:"getCustomerSaleReportListener",value:function(){return this.customerSaleReportSubject.asObservable()}},{key:"getBarcodeDetails",value:function(t){var e=this;return this.http.get(this.BASE_API_URL+"/cPanel/barcodeReport/particulars/"+t).pipe((0,s.K)(this.handleError),(0,u.b)(function(t){e.barcodeDetails=t.data,e.barcodeDetailsSubject.next(Object.assign({},e.barcodeDetails))}))}},{key:"getBarcodeDetailsListener",value:function(){return this.barcodeDetailsSubject.asObservable()}},{key:"customerSaleReportByDate",value:function(e,r){var a=this;return this.http.post(this.BASE_API_URL+"/cPanel/customerSaleReports",{startDate:e,endDate:r}).pipe((0,s.K)(this.handleError),(0,u.b)(function(e){e.data&&(a.customerSaleReportRecords=e.data,a.customerSaleReportSubject.next(t(a.customerSaleReportRecords)))}))}},{key:"barcodeReportByDate",value:function(e,r){var a=this;return this.http.post(this.BASE_API_URL+"/cPanel/barcodeReportByDate",{startDate:e,endDate:r}).pipe((0,s.K)(this.handleError),(0,u.b)(function(e){e.data&&(a.barcodeReportRecords=e.data,a.barcodeReportSubject.next(t(a.barcodeReportRecords)))}))}},{key:"serverError",value:function(t){return t instanceof Response?(0,d._)("backend server error"):(0,d._)(0===t.status?{status:t.status,message:"Backend Server is not Working",statusText:t.statusText}:401===t.status?{status:t.status,message:"Your are not authorised",statusText:t.statusText}:t)}},{key:"handleError",value:function(t){return t.error.message.includes("1062")?(0,d._)("Record already exists"):(0,d._)(t.error.message)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(p.eN),l.LFG(h.T))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();