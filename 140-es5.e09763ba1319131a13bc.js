!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return e(t,r)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[140],{61140:function(e,o,i){"use strict";i.r(o),i.d(o,{MasterStockistModule:function(){return D}});var s=i(61116),a=i(33464),c=i(58423),u=i(31041),l=i(529),f=i(22501),m=i.n(f),d=i(35366),g=i(47727),p=i(44019),Z=i(55959),h=i(42693),k=i(78035),v=function(){var e=function(){function e(o,n){var i=this;r(this,e),this.http=o,this.errorService=n,this.BASE_API_URL=l.N.BASE_API_URL,this.stockists=[],this.stockistSubject=new Z.xQ,this.masterStockistForm=new u.cw({id:new u.NI(null),stockistName:new u.NI(null,[u.kI.required]),loginId:new u.NI(null)}),this.http.get(this.BASE_API_URL+"/stockists").subscribe(function(e){i.stockists=e.data,i.stockistSubject.next(t(i.stockists))})}return n(e,[{key:"getStockists",value:function(){return t(this.stockists)}},{key:"getStockistListener",value:function(){return this.stockistSubject.asObservable()}},{key:"saveNewStockist",value:function(t){return this.http.post(this.BASE_API_URL+"/stockists",t).pipe((0,g.K)(this.errorService.serverError),(0,p.b)(function(t){console.log("service ",t)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.LFG(h.eN),d.LFG(k.T))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),A=i(57173),x=i(22797),b=i(35965),S=i(13070),q=i(9550),y=i(84369),T=i(59241),w=i(79572);function N(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"This field is Required"),d.qZA())}function L(t,e){if(1&t&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&t){var r=d.oxw(2);d.xp6(1),d.hij("Minimum length of name is ",r.stockistMasterForm.get("userName").errors.minlength.requiredLength,"")}}function _(t,e){if(1&t&&(d.TgZ(0,"div",20),d.YNc(1,N,2,0,"mat-error",21),d.YNc(2,L,2,1,"mat-error",21),d.qZA()),2&t){var r=d.oxw();d.xp6(1),d.Q6J("ngIf",r.stockistMasterForm.get("userName").errors.required),d.xp6(1),d.Q6J("ngIf",r.stockistMasterForm.get("userName").errors.minlength)}}function I(t,e){if(1&t&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.qZA()),2&t){var r=e.$implicit,o=e.index;d.xp6(2),d.Oqu(o+1),d.xp6(2),d.Oqu(r.userName),d.xp6(2),d.Oqu(r.pin),d.xp6(2),d.Oqu(r.balance)}}function U(t,e){if(1&t){var r=d.EpF();d.TgZ(0,"div",22),d.TgZ(1,"div",23),d.TgZ(2,"mat-slide-toggle",24),d.NdJ("change",function(){d.CHM(r);var t=d.oxw();return t.showDevArea=!t.showDevArea}),d._uU(3),d.qZA(),d.qZA(),d.qZA()}if(2&t){var o=d.oxw();d.xp6(3),d.Oqu(o.showDevArea?"Hide Developer Area":"Show Developer Area")}}function F(t,e){if(1&t&&(d.TgZ(0,"div",22),d.TgZ(1,"div",25),d.TgZ(2,"pre"),d._uU(3),d.ALo(4,"json"),d.ALo(5,"json"),d.qZA(),d.qZA(),d._UZ(6,"div",23),d._UZ(7,"div",23),d.qZA()),2&t){var r=d.oxw();d.xp6(3),d.AsE("        stockistMasterForm = ",d.lcZ(4,2,r.stockistMasterForm.value),"\n        stockists = ",d.lcZ(5,4,r.stockists),"\n      ")}}function M(t,e,r){return(t<e?-1:1)*(r?1:-1)}var C,J,B=[{path:"",canActivate:[c.m],component:(C=function(){function t(e){r(this,t),this.masterStockistService=e,this.isProduction=l.N.production,this.showDevArea=!1,this.stockists=[],this.sortedStockistList=[],this.stockistMasterForm=new u.cw({id:new u.NI(null),userName:new u.NI(null,[u.kI.required,u.kI.minLength(2)]),pin:new u.NI(null)})}return n(t,[{key:"ngOnInit",value:function(){var t=this;this.stockists=this.masterStockistService.getStockists(),this.masterStockistService.getStockistListener().subscribe(function(e){t.stockists=e,t.sortedStockistList=e})}},{key:"createNewStockist",value:function(){var t=this;m().fire({title:"Confirmation",text:"Do you sure to create stockist?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save It!"}).then(function(e){e.isConfirmed&&t.masterStockistService.saveNewStockist({userName:t.stockistMasterForm.value.userName}).subscribe(function(e){if(1===e.success){var r=e.data;console.log(r,t.stockists),t.stockists.unshift(r),t.stockistMasterForm.reset(),m().fire({position:"top-end",icon:"success",title:"Stockist created",showConfirmButton:!1,timer:1e3})}else m().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},function(t){console.log("data saving error",t)})})}},{key:"clearMasterStockistForm",value:function(){this.stockistMasterForm.reset()}},{key:"sortData",value:function(t){var e=this.stockists.slice();this.sortedStockistList=t.active&&""!==t.direction?e.sort(function(e,r){var o="asc"===t.direction;switch(t.active){case"userName":return M(e.userName,r.userName,o);case"pin":return M(e.pin,r.pin,o);case"balance":return M(e.balance,r.balance,o);default:return 0}}):e}}]),t}(),C.\u0275fac=function(t){return new(t||C)(d.Y36(v))},C.\u0275cmp=d.Xpm({type:C,selectors:[["app-master-stockist"]],decls:44,vars:6,consts:[["label","Create stockist"],[1,"d-flex","flex-row","mt-2"],[1,"col-4"],["mat-card-avatar","",1,"example-header-image"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],["fxFlex","100"],[3,"formGroup"],["type","text","matInput","","formControlName","userName","placeholder","Enter name"],["class","container","fxLayout","","fxLayout.xs","column","fxLayoutAlign","end","fxLayoutGap","10px","fxLayoutGap.xs","0",4,"ngIf"],["mat-raised-button","","color","primary","mat-stroked-button","",1,"pull-right",3,"disabled","click"],["mat-raised-button","","color","warn","mat-stroked-button","",1,"pull-right",3,"click"],[1,"col-8",2,"background-color","#6c757d5e"],["matSort","",1,"table","table-bordered","table-sm",2,"border","none !important",3,"matSortChange"],["scope","colgroup","colspan","4",1,"text-center"],["mat-sort-header","userName"],["mat-sort-header","pin"],["mat-sort-header","balance"],[4,"ngFor","ngForOf"],["label","Stockist list"],["class","d-flex",4,"ngIf"],["fxLayout","","fxLayout.xs","column","fxLayoutAlign","end","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container"],[4,"ngIf"],[1,"d-flex"],[1,"col-3"],[3,"change"],[1,"col-6"]],template:function(t,e){1&t&&(d.TgZ(0,"mat-tab-group"),d.TgZ(1,"mat-tab",0),d.TgZ(2,"div",1),d.TgZ(3,"div",2),d.TgZ(4,"mat-card"),d.TgZ(5,"mat-card-header"),d._UZ(6,"div",3),d.TgZ(7,"mat-card-title"),d._uU(8,"New Stockist Form"),d.qZA(),d.qZA(),d.TgZ(9,"mat-card-content"),d.TgZ(10,"div",4),d.TgZ(11,"div",5),d.TgZ(12,"form",6),d.TgZ(13,"div",4),d.TgZ(14,"mat-form-field",5),d.TgZ(15,"mat-label"),d._uU(16,"Stockist Name"),d.qZA(),d._UZ(17,"input",7),d.YNc(18,_,3,2,"div",8),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(19,"div",4),d.TgZ(20,"button",9),d.NdJ("click",function(){return e.createNewStockist()}),d._uU(21,"Create"),d.qZA(),d.TgZ(22,"button",10),d.NdJ("click",function(){return e.clearMasterStockistForm()}),d._uU(23,"clear"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(24,"div",11),d.TgZ(25,"table",12),d.NdJ("matSortChange",function(t){return e.sortData(t)}),d.TgZ(26,"thead"),d.TgZ(27,"tr"),d.TgZ(28,"th",13),d._uU(29,"Stockist List"),d.qZA(),d.qZA(),d.TgZ(30,"tr"),d.TgZ(31,"th"),d._uU(32,"Id"),d.qZA(),d.TgZ(33,"th",14),d._uU(34,"Stockist name"),d.qZA(),d.TgZ(35,"th",15),d._uU(36,"Pin"),d.qZA(),d.TgZ(37,"th",16),d._uU(38,"Balance"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(39,"tbody"),d.YNc(40,I,9,4,"tr",17),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(41,"mat-tab",18),d.qZA(),d.YNc(42,U,4,1,"div",19),d.YNc(43,F,8,6,"div",19)),2&t&&(d.xp6(12),d.Q6J("formGroup",e.stockistMasterForm),d.xp6(6),d.Q6J("ngIf",!e.stockistMasterForm.get("userName").valid&&e.stockistMasterForm.get("userName").touched),d.xp6(2),d.Q6J("disabled",!e.stockistMasterForm.valid),d.xp6(20),d.Q6J("ngForOf",e.sortedStockistList),d.xp6(2),d.Q6J("ngIf",!e.isProduction),d.xp6(1),d.Q6J("ngIf",!e.isProduction&&e.showDevArea))},directives:[A.SP,A.uX,x.a8,x.dk,x.kc,x.n5,x.dn,b.xw,b.Wh,b.SQ,b.yH,u._Y,u.JL,u.sg,S.KE,S.hX,q.Nt,u.Fj,u.JJ,u.u,s.O5,y.lW,T.YE,T.nU,s.sg,S.TO,w.Rr],pipes:[s.Ts],styles:[""]}),C),data:{title:"About",description:"Description Meta Tag Content",ogUrl:"your og url"}}],j=function(){var t=function t(){r(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[a.Bz.forChild(B)],a.Bz]}),t}(),O=function(){var t=function t(){r(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[y.ot,q.c]}),t}(),E=i(77154),D=((J=function t(){r(this,t)}).\u0275fac=function(t){return new(t||J)},J.\u0275mod=d.oAB({type:J}),J.\u0275inj=d.cJS({imports:[[s.ez,j,A.Nh,O,E.o9,x.QW,u.u5,u.UX,w.rP,T.JX]]}),J)}}])}();