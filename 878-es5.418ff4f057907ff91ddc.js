!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,r)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[878],{60878:function(e,n,a){"use strict";a.r(n),a.d(n,{TerminalReportModule:function(){return R}});var i=a(61116),s=a(33464),u=a(65724),c=a(35366),l=a(55959),p=a(31225),d=a(529),f=a(47727),m=a(44019),h=a(42693),b=a(78035),g=function(){var e=function(){function e(t,n){r(this,e),this.http=t,this.errorService=n,this.BASE_API_URL=d.N.BASE_API_URL,this.barcodeReportRecords=[],this.userData=JSON.parse(localStorage.getItem("user")),this.barcodeReportRecordsSubject=new l.xQ}return o(e,[{key:"terminalListListener",value:function(){return this.barcodeReportRecordsSubject.asObservable()}},{key:"getTerminalReport",value:function(e){var r=this;return console.log("terminal_id",e),this.http.post(this.BASE_API_URL+"/terminal/barcodeReport",{terminalId:e}).pipe((0,f.K)(this.handleError),(0,m.b)(function(e){e.data&&(r.barcodeReportRecords=e.data,r.barcodeReportRecordsSubject.next(t(r.barcodeReportRecords)))}))}},{key:"serverError",value:function(t){return t instanceof Response?(0,p._)("backend server error"):(0,p._)(0===t.status?{status:t.status,message:"Backend Server is not Working",statusText:t.statusText}:401===t.status?{status:t.status,message:"Your are not authorised",statusText:t.statusText}:t)}},{key:"handleError",value:function(t){return t.error.message.includes("1062")?(0,p._)("Record already exists"):(0,p._)(t.error.message)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(h.eN),c.LFG(b.T))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function v(t,e){if(1&t&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.qZA()),2&t){var r=e.$implicit;c.xp6(2),c.Oqu(r.draw_time),c.xp6(2),c.Oqu(r.amount),c.xp6(2),c.Oqu(r.commission),c.xp6(2),c.Oqu(r.prize_value),c.xp6(2),c.Oqu(r.ntp)}}var A,Z,y=[{path:"",canActivate:[u.v],component:(A=function(){function t(e,n){var o=this;r(this,t),this.renderer=e,this.terminalReportService=n,this.renderer.setStyle(document.body,"background-image","none");var a=JSON.parse(localStorage.getItem("user"));this.terminalReportService.getTerminalReport(a.userId).subscribe(),this.terminalReportService.terminalListListener().subscribe(function(t){o.terminalReportData=t})}return o(t,[{key:"ngOnInit",value:function(){}}]),t}(),A.\u0275fac=function(t){return new(t||A)(c.Y36(c.Qsj),c.Y36(g))},A.\u0275cmp=c.Xpm({type:A,selectors:[["app-terminal-report"]],decls:17,vars:1,consts:[[1,"mt-5"],["matSort","",1,"table","table-bordered","table-sm","m-3",2,"border","none !important","height","50px","overflow","scroll"],["mat-sort-header","terminal_pin"],["mat-sort-header","total"],["mat-sort-header","commission"],["mat-sort-header","prize_value"],["mat-sort-header","ntp"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"table",1),c.TgZ(2,"thead"),c.TgZ(3,"tr"),c.TgZ(4,"th",2),c._uU(5,"Date"),c.qZA(),c.TgZ(6,"th",3),c._uU(7,"Amount"),c.qZA(),c.TgZ(8,"th",4),c._uU(9,"Commission"),c.qZA(),c.TgZ(10,"th",5),c._uU(11,"Prize"),c.qZA(),c.TgZ(12,"th",6),c._uU(13,"NTP"),c.qZA(),c._UZ(14,"th"),c.qZA(),c.qZA(),c.TgZ(15,"tbody"),c.YNc(16,v,11,5,"tr",7),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(16),c.Q6J("ngForOf",e.terminalReportData))},directives:[i.sg],styles:[""]}),A)}],T=function(){var t=function t(){r(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[s.Bz.forChild(y)],s.Bz]}),t}(),R=((Z=function t(){r(this,t)}).\u0275fac=function(t){return new(t||Z)},Z.\u0275mod=c.oAB({type:Z}),Z.\u0275inj=c.cJS({imports:[[i.ez,T]]}),Z)}}])}();