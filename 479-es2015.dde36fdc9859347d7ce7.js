"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[479],{8479:function(t,e,r){r.r(e),r.d(e,{SuperStockistReportRoutingModule:function(){return b}});var a=r(3423),s=r(8583),o=r(9925),i=r(7716),u=r(3535),c=r(4501),n=r(1140),d=r(5939),h=r(1494);function p(t,e){if(1&t&&(i.TgZ(0,"tr"),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.TgZ(9,"td"),i._uU(10),i.qZA(),i.TgZ(11,"td"),i._uU(12),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.xp6(2),i.Oqu(t.terminal_pin),i.xp6(2),i.Oqu(t.stokiest_name),i.xp6(2),i.Oqu(t.total),i.xp6(2),i.Oqu(t.commission),i.xp6(2),i.Oqu(t.prize_value),i.xp6(2),i.Oqu(t.total-t.commission-t.prize_value)}}function l(t,e){1&t&&(i.TgZ(0,"div",19),i.TgZ(1,"h1"),i._uU(2,"No Data"),i.qZA(),i.qZA())}function Z(t,e){if(1&t&&(i.TgZ(0,"tr"),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.qZA(),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.TgZ(9,"td"),i._uU(10),i.qZA(),i.TgZ(11,"td"),i._uU(12),i.qZA(),i.TgZ(13,"td"),i._uU(14),i.qZA(),i.TgZ(15,"td"),i._uU(16),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.xp6(2),i.Oqu(t.barcode_number),i.xp6(2),i.Oqu(t.draw_time),i.xp6(2),i.Oqu(t.terminal_pin),i.xp6(2),i.Oqu(t.game_name),i.xp6(2),i.Oqu(t.ticket_taken_time),i.xp6(2),i.Oqu(t.total_quantity),i.xp6(2),i.Oqu(t.amount),i.xp6(2),i.Oqu(t.prize_value)}}function m(t,e){1&t&&(i.TgZ(0,"div",19),i.TgZ(1,"h1"),i._uU(2,"No Data"),i.qZA(),i.qZA())}const g=[{path:"",component:(()=>{class t{constructor(t,e,r){this.authService=t,this.masterSuperStockistService=e,this.adminReportService=r,this.thisYear=(new Date).getFullYear(),this.thisMonth=(new Date).getMonth(),this.thisDay=(new Date).getDate(),this.startDate=new Date(this.thisYear,this.thisMonth,this.thisDay),this.StartDateFilter=this.startDate,this.EndDateFilter=this.startDate,this.pipe=new s.uU("en-US"),this.barcodeReportRecords=[],this.customerSaleReportRecords=[],this.totalAmount=0}ngOnInit(){this.user=this.authService.userBehaviorSubject.value,this.masterSuperStockistService.barcodeReportBySuperStockistId("2022-02-17","2022-02-17",this.user.userId).subscribe(t=>{this.barcodeReportRecords=t.data}),this.masterSuperStockistService.customerSaleReportByDate("2022-02-17","2022-02-17",this.user.userId).subscribe(t=>{this.customerSaleReportRecords=t.data;let e=0;this.customerSaleReportRecords.forEach(function(t){e+=Number(t.total)}),this.totalAmount=e})}openPopup(t,e){this.adminReportService.getBarcodeDetails(t).subscribe(t=>{this.barcodeDetails=t.data})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(u.e),i.Y36(c.Z),i.Y36(n.Q))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-super-stockist-report"]],viewQuery:function(t,e){if(1&t&&i.Gf(o.oB,5),2&t){let t;i.iGM(t=i.CRH())&&(e.modal=t.first)}},decls:56,vars:5,consts:[[1,"mt-2","mr-3","ml-3"],["label","Customer sales report"],[1,"pt-1","d-flex"],["matSort","",1,"table","table-bordered","table-sm",2,"border","none !important","height","50px","overflow","scroll"],["mat-sort-header","terminal_pin"],["mat-sort-header","total"],["mat-sort-header","commission"],["mat-sort-header","prize_value"],["mat-sort-header","ntp"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["label","Barcode report"],[1,"text-center",2,"align-content","center","align-items","center","text-align","center"],["matSort","",1,"ml-4","col-11","table","table-bordered","table-sm",2,"border","none !important","height","50px","overflow","scroll"],["mat-sort-header","barcode_number"],["mat-sort-header","draw_time"],["mat-sort-header","ticket_taken_time"],["mat-sort-header","total_quantity"],["mat-sort-header","amount"],[1,"text-center"]],template:function(t,e){1&t&&(i.TgZ(0,"mat-tab-group",0),i.TgZ(1,"mat-tab",1),i._UZ(2,"div",2),i.TgZ(3,"table",3),i.TgZ(4,"thead"),i.TgZ(5,"tr"),i.TgZ(6,"th",4),i._uU(7,"Terminal Id"),i.qZA(),i.TgZ(8,"th",4),i._uU(9,"Stokiest Name"),i.qZA(),i.TgZ(10,"th",5),i._uU(11,"Total"),i.qZA(),i.TgZ(12,"th",6),i._uU(13,"Commission"),i.qZA(),i.TgZ(14,"th",7),i._uU(15,"Prize"),i.qZA(),i.TgZ(16,"th",8),i._uU(17,"NTP"),i.qZA(),i._UZ(18,"th"),i.qZA(),i.qZA(),i.TgZ(19,"tbody"),i.YNc(20,p,13,6,"tr",9),i.TgZ(21,"tr"),i._UZ(22,"td"),i.TgZ(23,"td"),i._uU(24,"Grand Total"),i.qZA(),i.TgZ(25,"td"),i._uU(26),i.qZA(),i._UZ(27,"td"),i._UZ(28,"td"),i._UZ(29,"td"),i.qZA(),i.qZA(),i.qZA(),i.YNc(30,l,3,0,"div",10),i.qZA(),i.TgZ(31,"mat-tab",11),i.TgZ(32,"div",12),i.TgZ(33,"table",13),i.TgZ(34,"thead"),i.TgZ(35,"tr"),i.TgZ(36,"th",14),i._uU(37,"Barcode"),i.qZA(),i.TgZ(38,"th",15),i._uU(39,"Draw time"),i.qZA(),i.TgZ(40,"th",4),i._uU(41,"Terminal"),i.qZA(),i.TgZ(42,"th",4),i._uU(43,"Game"),i.qZA(),i.TgZ(44,"th",16),i._uU(45,"Ticket take time"),i.qZA(),i.TgZ(46,"th",17),i._uU(47,"Quantity"),i.qZA(),i.TgZ(48,"th",18),i._uU(49,"Amount"),i.qZA(),i.TgZ(50,"th",7),i._uU(51,"Prize"),i.qZA(),i._UZ(52,"th"),i.qZA(),i.qZA(),i.TgZ(53,"tbody"),i.YNc(54,Z,17,8,"tr",9),i.qZA(),i.qZA(),i.YNc(55,m,3,0,"div",10),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(20),i.Q6J("ngForOf",e.customerSaleReportRecords),i.xp6(6),i.Oqu(e.totalAmount),i.xp6(4),i.Q6J("ngIf",0==e.customerSaleReportRecords.length),i.xp6(24),i.Q6J("ngForOf",e.barcodeReportRecords),i.xp6(1),i.Q6J("ngIf",0==e.barcodeReportRecords.length))},directives:[d.SP,d.uX,h.YE,h.nU,s.sg,s.O5],styles:[""]}),t})()}];let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[a.Bz.forChild(g)],a.Bz]}),t})()},1140:function(t,e,r){r.d(e,{Q:function(){return h}});var a=r(2340),s=r(5304),o=r(8307),i=r(9765),u=r(205),c=r(7716),n=r(1841),d=r(4889);let h=(()=>{class t{constructor(t,e){this.http=t,this.errorService=e,this.BASE_API_URL=a.N.BASE_API_URL,this.barcodeReportRecords=[],this.barcodeReportSubject=new i.xQ,this.barcodeDetailsSubject=new i.xQ,this.customerSaleReportRecords=[],this.customerSaleReportSubject=new i.xQ}getBarcodeReportRecords(){return[...this.barcodeReportRecords]}getBarcodeReportListener(){return this.barcodeReportSubject.asObservable()}getCustomerSaleReportRecords(){return[...this.customerSaleReportRecords]}getCustomerSaleReportListener(){return this.customerSaleReportSubject.asObservable()}getBarcodeDetails(t){return this.http.get(this.BASE_API_URL+"/cPanel/barcodeReport/particulars/"+t).pipe((0,s.K)(this.handleError),(0,o.b)(t=>{this.barcodeDetails=t.data,this.barcodeDetailsSubject.next(Object.assign({},this.barcodeDetails))}))}getBarcodeDetailsListener(){return this.barcodeDetailsSubject.asObservable()}customerSaleReportByDate(t,e){return this.http.post(this.BASE_API_URL+"/cPanel/customerSaleReports",{startDate:t,endDate:e}).pipe((0,s.K)(this.handleError),(0,o.b)(t=>{t.data&&(this.customerSaleReportRecords=t.data,this.customerSaleReportSubject.next([...this.customerSaleReportRecords]))}))}barcodeReportByDate(t,e){return this.http.post(this.BASE_API_URL+"/cPanel/barcodeReportByDate",{startDate:t,endDate:e}).pipe((0,s.K)(this.handleError),(0,o.b)(t=>{t.data&&(this.barcodeReportRecords=t.data,this.barcodeReportSubject.next([...this.barcodeReportRecords]))}))}serverError(t){return t instanceof Response?(0,u._)("backend server error"):(0,u._)(0===t.status?{status:t.status,message:"Backend Server is not Working",statusText:t.statusText}:401===t.status?{status:t.status,message:"Your are not authorised",statusText:t.statusText}:t)}handleError(t){return t.error.message.includes("1062")?(0,u._)("Record already exists"):(0,u._)(t.error.message)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(n.eN),c.LFG(d.T))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);